{% extends 'base.html'%}


{% block title %}
   Admin DashBoard
{% endblock %}


{% block content %}

<h1>Admin DashBoard</h1>

<a href="{{url_for('admin_book_requests')}}"  class="btn btn-success">See Book Requests</a><br><br>

<a href="{{url_for('book_status')}}"  class="btn btn-success">See Book Status</a><br><br>

<a href="{{ url_for('add_section') }}">Add Section</a>

<a href="{{ url_for('check_and_update_status') }}">Refresh</a>



<h2>Section:</h2>


<table class="styled-table">
   <thead>
      <tr>
         <th>Section ID</th>
         <th>Section Name</th>
         <th>Date Created</th>
         <th>Description</th>
         <th>Actions</th>
      </tr>
   </thead>

   <tbody>
      {% for section in sections %}
      <tr>
         <td>{{section.id}}</td>
         <td>{{section.name}}</td>
         <td>{{section.date_created}}</td>
         <td>{{section.description}}</td>
         <td>
            <a href="{{url_for('show_section', id=section.id)}}">
               <i class="fa-solid fa-eye"></i>
               
            </a>

            <a href="{{url_for('edit_section', id=section.id)}}">
               <i class="fas fa-edit"></i>
               
            </a>

            <a href="{{url_for('delete_section', id=section.id)}}">
               <i class="fas fa-trash"></i>
               
            </a>
           
         </td>
      </tr>
      {% endfor %}
   </tbody>
</table>

<h2>Book Request List</h2>
<table class="styled-table">
   <thead>
      <tr>
         <th>Request Id</th>
         <th>Username</th>
         <th>Book Name</th>
         <th>Issue Date </th>
         <th>Return Date</th>
         <th>Revoke</th>
         
      </tr>
   </thead>

   <tbody>
      {% for issue in book_issues %}
      {% if issue.approved == 'Accepted' %}
      <tr>
         <td>{{issue.id}}</td>
         <td>{{issue.user_name}}</td>
         <td>{{issue.book_name}}</td>
         <td>{{issue.issue_date}}</td>
         <td>{{issue.return_date}}</td>
         <td><a href="{{url_for('book_revoke', id=issue.id)}}">Revoke</a></td>
      </tr>
      {% endif %}
      {% endfor %}
   </tbody>
</table>

{% endblock%}
 
